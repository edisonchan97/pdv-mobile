{"version":3,"sources":["../static/js/4.3e3bb3c7.chunk.js","apps/production/index.js","webpack:///./src/apps/production/style.less?4049","apps/production/style.less"],"names":["webpackJsonp","520","module","__webpack_exports__","__webpack_require__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_class","_temp2","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_2_immutable__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4__apps_production_action__","__WEBPACK_IMPORTED_MODULE_5_prop_types__","__WEBPACK_IMPORTED_MODULE_5_prop_types___default","__WEBPACK_IMPORTED_MODULE_6_pdv__","__WEBPACK_IMPORTED_MODULE_7__style_less__","__WEBPACK_IMPORTED_MODULE_8__api__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","Production","_Component","_ref","_temp","_this","_ret","_this2","_len","args","Array","_key","getPrototypeOf","concat","handleEdit","index","num","currentNum","proData","dataList","selectNum","editPro","togSelect","togSelectPro","onInit","a","mark","_callee","result","wrap","_context","prev","next","getProduction","sent","map","item","selectStatus","getProData2","t0","stop","nextProps","nextState","state","_this3","createElement","className","title","confirm","onClick","bind","product_name","propTypes","object","isRequired","getProData","func","533","exports","content","options","hmr","transform","locals","534","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/4.3e3bb3c7.chunk.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 520:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_immutable__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__apps_production_action__ = __webpack_require__(184);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_prop_types__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_pdv__ = __webpack_require__(180);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__style_less__ = __webpack_require__(533);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__style_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__style_less__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__api__ = __webpack_require__(185);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _class,_temp2;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Production=(_temp2=_class=function(_Component){_inherits(Production,_Component);function Production(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,Production);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Production.__proto__||Object.getPrototypeOf(Production)).call.apply(_ref,[this].concat(args))),_this),_this.handleEdit=function(index,num){var currentNum=_this.props.proData.dataList[index].selectNum+num;if(currentNum<0){return;}_this.props.editPro(index,currentNum);},_this.togSelect=function(index){_this.props.togSelectPro(index);},_this.onInit=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){var result;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return __WEBPACK_IMPORTED_MODULE_8__api__[\"a\" /* default */].getProduction();case 3:result=_context.sent;result.map(function(item){item.selectStatus=false;item.selectNum=0;return item;});_this.props.getProData2(result);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context['catch'](0);console.error(_context.t0);case 11:case'end':return _context.stop();}}},_callee,_this2,[[0,8]]);})),_temp),_possibleConstructorReturn(_this,_ret);}/**\r\n   * 添加或删减商品，交由redux进行数据处理，作为全局变量\r\n   * @param  {int} index 编辑的商品索引\r\n   * @param  {int} num   添加||删减的商品数量\r\n   */// 选择商品，交由redux进行数据处理，作为全局变量\n_createClass(Production,[{key:'shouldComponentUpdate',value:function shouldComponentUpdate(nextProps,nextState){return!Object(__WEBPACK_IMPORTED_MODULE_2_immutable__[\"is\"])(Object(__WEBPACK_IMPORTED_MODULE_2_immutable__[\"fromJS\"])(this.props),Object(__WEBPACK_IMPORTED_MODULE_2_immutable__[\"fromJS\"])(nextProps))||!Object(__WEBPACK_IMPORTED_MODULE_2_immutable__[\"is\"])(Object(__WEBPACK_IMPORTED_MODULE_2_immutable__[\"fromJS\"])(this.state),Object(__WEBPACK_IMPORTED_MODULE_2_immutable__[\"fromJS\"])(nextState));}},{key:'componentDidMount',value:function componentDidMount(){if(!this.props.proData.dataList.length){// this.props.getProData();\nthis.onInit();}}},{key:'render',value:function render(){var _this3=this;return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('main',{className:'pdv-production page'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_pdv__[\"c\" /* PublicHeader */],{title:'\\u5546\\u54C1\\u5217\\u8868',confirm:true}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('section',{className:'pro-list-con'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('ul',{className:'pro-list-ul'},this.props.proData.dataList.map(function(item,index){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('li',{className:'pro-item',key:index},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'pro-item-select',onClick:_this3.togSelect.bind(_this3,index)},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',{className:'icon-xuanze1 pro-select-status '+(item.selectStatus?'pro-selected':'')}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',{className:'pro-name'},item.product_name)),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'pro-item-edit'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',{className:'icon-jian '+(item.selectNum>0?'edit-active':''),onClick:_this3.handleEdit.bind(_this3,index,-1)}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',{className:'pro-num'},item.selectNum),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',{className:'icon-jia',onClick:_this3.handleEdit.bind(_this3,index,1)})));}))));}}]);return Production;}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]),_class.propTypes={proData:__WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.object.isRequired,getProData:__WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.func.isRequired,togSelectPro:__WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.func.isRequired,editPro:__WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.func.isRequired},_temp2);/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(function(state){return{proData:state.proData};},{getProData:__WEBPACK_IMPORTED_MODULE_4__apps_production_action__[\"c\" /* getProData */],togSelectPro:__WEBPACK_IMPORTED_MODULE_4__apps_production_action__[\"e\" /* togSelectPro */],editPro:__WEBPACK_IMPORTED_MODULE_4__apps_production_action__[\"b\" /* editPro */],getProData2:__WEBPACK_IMPORTED_MODULE_4__apps_production_action__[\"d\" /* getProData2 */]})(Production));\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(534);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(516)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 534:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(179)(true);\n// imports\nexports.i(__webpack_require__(517), \"\");\n\n// module\nexports.push([module.i, \".pdv-production .pro-list-ul{background-color:#fff}.pdv-production .pro-list-ul .pro-item{min-height:1.866667rem;padding:.4rem;border-bottom:1px solid #eee;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.pdv-production .pro-list-ul .pro-item .pro-item-select{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-select-status{font-size:.6rem;color:#ccc;text-align:left}.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-selected{color:#975ec9}.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-name{font-size:.48rem;color:#333;text-align:left;margin-left:.266667rem;margin-top:.16rem}.pdv-production .pro-list-ul .pro-item .pro-item-edit{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jian{font-size:.666667rem;color:#ccc;text-align:left}.pdv-production .pro-list-ul .pro-item .pro-item-edit .pro-num{font-size:.4rem;color:#333;text-align:center;min-width:.8rem}.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jia{font-size:.666667rem;color:#975ec9;text-align:left}.pdv-production .pro-list-ul .pro-item .pro-item-edit .edit-active{color:#975ec9}\", \"\", {\"version\":3,\"sources\":[\"D:/myroot/pdv-mobile/src/apps/production/style.less\"],\"names\":[],\"mappings\":\"AAEA,6BACE,qBAAuB,CACxB,AAED,uCACE,uBAAwB,AACxB,cAAgB,AAChB,6BAA8B,AAC9B,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACvB,8BAA+B,AAC/B,sBAAuB,AACvB,kBAAoB,CACrB,AAED,wDACE,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AACtB,uBAAwB,AACxB,sBAAuB,AACvB,kBAAoB,CACrB,AAED,2EACE,gBAAkB,AAClB,WAAY,AACZ,eAAiB,CAClB,AAED,sEACE,aAAe,CAChB,AAED,kEACE,iBAAmB,AACnB,WAAY,AACZ,gBAAiB,AACjB,uBAAyB,AACzB,iBAAoB,CACrB,AAED,sDACE,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AACtB,uBAAwB,AACxB,sBAAuB,AACvB,kBAAoB,CACrB,AAED,iEACE,qBAAuB,AACvB,WAAY,AACZ,eAAiB,CAClB,AAED,+DACE,gBAAkB,AAClB,WAAY,AACZ,kBAAmB,AACnB,eAAkB,CACnB,AAED,gEACE,qBAAuB,AACvB,cAAe,AACf,eAAiB,CAClB,AAED,mEACE,aAAe,CAChB\",\"file\":\"style.less\",\"sourcesContent\":[\"@import \\\"../../assets/iconfonts/iconfont.css\\\";\\n\\n.pdv-production .pro-list-ul {\\n  background-color: #fff;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item {\\n  min-height: 1.866667rem;\\n  padding: 0.4rem;\\n  border-bottom: 1PX solid #eee;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: justify;\\n  justify-content: space-between;\\n  -ms-flex-align: center;\\n  align-items: center;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n  justify-content: center;\\n  -ms-flex-align: center;\\n  align-items: center;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-select-status {\\n  font-size: 0.6rem;\\n  color: #ccc;\\n  text-align: left;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-selected {\\n  color: #975ec9;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-name {\\n  font-size: 0.48rem;\\n  color: #333;\\n  text-align: left;\\n  margin-left: 0.266667rem;\\n  margin-top: 0.16rem;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n  justify-content: center;\\n  -ms-flex-align: center;\\n  align-items: center;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jian {\\n  font-size: 0.666667rem;\\n  color: #ccc;\\n  text-align: left;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .pro-num {\\n  font-size: 0.4rem;\\n  color: #333;\\n  text-align: center;\\n  min-width: 0.8rem;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jia {\\n  font-size: 0.666667rem;\\n  color: #975ec9;\\n  text-align: left;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .edit-active {\\n  color: #975ec9;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.3e3bb3c7.chunk.js","import React, { Component } from 'react';\r\nimport { is, fromJS } from 'immutable';\r\nimport { connect } from 'react-redux';\r\nimport { getProData, togSelectPro, editPro, getProData2 } from '@/apps/production/action';\r\nimport PropTypes from 'prop-types';\r\nimport {PublicHeader} from 'pdv';\r\nimport './style.less';\r\nimport API from './api';\r\n\r\nclass Production extends Component {\r\n  static propTypes = {\r\n    proData: PropTypes.object.isRequired,\r\n    getProData: PropTypes.func.isRequired,\r\n    togSelectPro: PropTypes.func.isRequired,\r\n    editPro: PropTypes.func.isRequired,\r\n  }\r\n\r\n  /**\r\n   * 添加或删减商品，交由redux进行数据处理，作为全局变量\r\n   * @param  {int} index 编辑的商品索引\r\n   * @param  {int} num   添加||删减的商品数量\r\n   */\r\n  handleEdit = (index, num) => {\r\n    let currentNum = this.props.proData.dataList[index].selectNum + num;\r\n    if (currentNum < 0) {\r\n      return\r\n    }\r\n    this.props.editPro(index, currentNum);\r\n  }\r\n\r\n  // 选择商品，交由redux进行数据处理，作为全局变量\r\n  togSelect = index => {\r\n    this.props.togSelectPro(index);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return !is(fromJS(this.props), fromJS(nextProps)) || !is(fromJS(this.state), fromJS(nextState))\r\n  }\r\n  onInit = async () => {\r\n    try {\r\n      let result = await API.getProduction();\r\n      result.map(item => {\r\n        item.selectStatus = false;\r\n        item.selectNum = 0;\r\n        return item;\r\n      })\r\n      this.props.getProData2(result);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n\r\n  }\r\n  componentDidMount() {\r\n    if (!this.props.proData.dataList.length) {\r\n      // this.props.getProData();\r\n      this.onInit();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className=\"pdv-production page\">\r\n        <PublicHeader title='商品列表' confirm />\r\n        <section className=\"pro-list-con\">\r\n          <ul className=\"pro-list-ul\">\r\n            {\r\n              this.props.proData.dataList.map((item, index) => {\r\n                return <li className=\"pro-item\" key={index}>\r\n                  <div className=\"pro-item-select\" onClick={this.togSelect.bind(this, index)}>\r\n                    <span className={`icon-xuanze1 pro-select-status ${item.selectStatus ? 'pro-selected' : ''}`}></span>\r\n                    <span className=\"pro-name\">{item.product_name}</span>\r\n                  </div>\r\n                  <div className=\"pro-item-edit\">\r\n                    <span className={`icon-jian ${item.selectNum > 0 ? 'edit-active' : ''}`} onClick={this.handleEdit.bind(this, index, -1)}></span>\r\n                    <span className=\"pro-num\">{item.selectNum}</span>\r\n                    <span className={`icon-jia`} onClick={this.handleEdit.bind(this, index, 1)}></span>\r\n                  </div>\r\n                </li>\r\n              })\r\n            }\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default connect(state => ({\r\n  proData: state.proData,\r\n}), {\r\n    getProData,\r\n    togSelectPro,\r\n    editPro,\r\n    getProData2\r\n  })(Production);\n\n\n// WEBPACK FOOTER //\n// ./src/apps/production/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!../../../node_modules/less-loader/dist/cjs.js!./style.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/apps/production/style.less\n// module id = 533\n// module chunks = 4","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\nexports.i(require(\"-!../../../node_modules/css-loader/index.js?{\\\"importLoaders\\\":1,\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/postcss-loader/lib/index.js??postcss!../../assets/iconfonts/iconfont.css\"), \"\");\n\n// module\nexports.push([module.id, \".pdv-production .pro-list-ul{background-color:#fff}.pdv-production .pro-list-ul .pro-item{min-height:1.866667rem;padding:.4rem;border-bottom:1px solid #eee;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.pdv-production .pro-list-ul .pro-item .pro-item-select{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-select-status{font-size:.6rem;color:#ccc;text-align:left}.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-selected{color:#975ec9}.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-name{font-size:.48rem;color:#333;text-align:left;margin-left:.266667rem;margin-top:.16rem}.pdv-production .pro-list-ul .pro-item .pro-item-edit{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jian{font-size:.666667rem;color:#ccc;text-align:left}.pdv-production .pro-list-ul .pro-item .pro-item-edit .pro-num{font-size:.4rem;color:#333;text-align:center;min-width:.8rem}.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jia{font-size:.666667rem;color:#975ec9;text-align:left}.pdv-production .pro-list-ul .pro-item .pro-item-edit .edit-active{color:#975ec9}\", \"\", {\"version\":3,\"sources\":[\"D:/myroot/pdv-mobile/src/apps/production/style.less\"],\"names\":[],\"mappings\":\"AAEA,6BACE,qBAAuB,CACxB,AAED,uCACE,uBAAwB,AACxB,cAAgB,AAChB,6BAA8B,AAC9B,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACvB,8BAA+B,AAC/B,sBAAuB,AACvB,kBAAoB,CACrB,AAED,wDACE,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AACtB,uBAAwB,AACxB,sBAAuB,AACvB,kBAAoB,CACrB,AAED,2EACE,gBAAkB,AAClB,WAAY,AACZ,eAAiB,CAClB,AAED,sEACE,aAAe,CAChB,AAED,kEACE,iBAAmB,AACnB,WAAY,AACZ,gBAAiB,AACjB,uBAAyB,AACzB,iBAAoB,CACrB,AAED,sDACE,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AACtB,uBAAwB,AACxB,sBAAuB,AACvB,kBAAoB,CACrB,AAED,iEACE,qBAAuB,AACvB,WAAY,AACZ,eAAiB,CAClB,AAED,+DACE,gBAAkB,AAClB,WAAY,AACZ,kBAAmB,AACnB,eAAkB,CACnB,AAED,gEACE,qBAAuB,AACvB,cAAe,AACf,eAAiB,CAClB,AAED,mEACE,aAAe,CAChB\",\"file\":\"style.less\",\"sourcesContent\":[\"@import \\\"../../assets/iconfonts/iconfont.css\\\";\\n\\n.pdv-production .pro-list-ul {\\n  background-color: #fff;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item {\\n  min-height: 1.866667rem;\\n  padding: 0.4rem;\\n  border-bottom: 1PX solid #eee;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: justify;\\n  justify-content: space-between;\\n  -ms-flex-align: center;\\n  align-items: center;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n  justify-content: center;\\n  -ms-flex-align: center;\\n  align-items: center;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-select-status {\\n  font-size: 0.6rem;\\n  color: #ccc;\\n  text-align: left;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-selected {\\n  color: #975ec9;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-select .pro-name {\\n  font-size: 0.48rem;\\n  color: #333;\\n  text-align: left;\\n  margin-left: 0.266667rem;\\n  margin-top: 0.16rem;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n  justify-content: center;\\n  -ms-flex-align: center;\\n  align-items: center;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jian {\\n  font-size: 0.666667rem;\\n  color: #ccc;\\n  text-align: left;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .pro-num {\\n  font-size: 0.4rem;\\n  color: #333;\\n  text-align: center;\\n  min-width: 0.8rem;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .icon-jia {\\n  font-size: 0.666667rem;\\n  color: #975ec9;\\n  text-align: left;\\n}\\n\\n.pdv-production .pro-list-ul .pro-item .pro-item-edit .edit-active {\\n  color: #975ec9;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null,null]}!./node_modules/less-loader/dist/cjs.js!./src/apps/production/style.less\n// module id = 534\n// module chunks = 4"],"sourceRoot":""}